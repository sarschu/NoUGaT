

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial &mdash; NoUGaT 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="NoUGaT 1 documentation" href="index.html"/>
        <link rel="next" title="API" href="API.html"/>
        <link rel="prev" title="Welcome to NoUGaT’s documentation!" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> NoUGaT</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-architecture">System architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-of-usage">Example of usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="API.html#module-norm.data">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="API.html#module-norm.normalizer">Main</a></li>
<li class="toctree-l2"><a class="reference internal" href="API.html#module-norm.modules.abbreviation">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="API.html#module-norm.util">Util</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">NoUGaT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Tutorial</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/README.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>Contributors: Sarah Schulz, Bart Desmet, Orphee De Clercq, Arda Tezcan, Guy De Pauw</p>
<p>Version 1.0</p>
<p>Date 15th November 2014</p>
<p>contact: <a class="reference external" href="mailto:Sarah&#46;Schulz&#37;&#52;&#48;Ugent&#46;be">Sarah<span>&#46;</span>Schulz<span>&#64;</span>Ugent<span>&#46;</span>be</a></p>
<p>The Normalizer converts User Generated Contents into a normalized version that can be further processed with NLP tools.
It has been trained on three different genres of UGC namely Twitter data, SMS and Netlog. It works for Dutch as well as for English.</p>
<div class="section" id="system-architecture">
<h2>System architecture<a class="headerlink" href="#system-architecture" title="Permalink to this headline">¶</a></h2>
<p>The normalization pipeline consists of different more or less independent modules.</p>
<blockquote>
<div><ul class="simple">
<li>the preprocessing module</li>
<li>the suggestion-generation modules</li>
<li>the decision module</li>
</ul>
</div></blockquote>
<div class="section" id="preprocessing">
<h3>Preprocessing<a class="headerlink" href="#preprocessing" title="Permalink to this headline">¶</a></h3>
<p>The first step that is performed is the preprocessing of the input files.</p>
<p>The program works on the sentence level. That means that the input is split into sentences first.</p>
<p>The following replacements of  characters talk place:
* smilies
* tags
* hyperlink</p>
</div>
<div class="section" id="suggestion-generation">
<h3>Suggestion generation<a class="headerlink" href="#suggestion-generation" title="Permalink to this headline">¶</a></h3>
<p>There are 8 different modules that generate possible normalization option for each word in a sentence. Some modules
generate exactly one output for each word, others do not deliver an option for every word but can deliver more than one
possible option per word.</p>
<p>The modules cover different levels of mistakes that can appear in UGC such as spelling errors or phonetic expressions.</p>
<div class="section" id="abbreviation">
<h4>Abbreviation<a class="headerlink" href="#abbreviation" title="Permalink to this headline">¶</a></h4>
<p>Language used in UGC often shares certain abbreviations and uniform ways of reference like hash tags in Twitter posts. Therefore, lookup approaches can cover a reasonable number of issues.</p>
<p>The abbreviation module relies on a dictionary of about 350 frequent abbreviations appearing in social media texts like <em>lol</em> (laughing out loud) and <em>aub</em> for (alstublieft) (thank you).</p>
</div>
<div class="section" id="compound">
<h4>Compound<a class="headerlink" href="#compound" title="Permalink to this headline">¶</a></h4>
<p>It is often the case (and certainly more often for Dutch than for English) that compounds that should actually be written in one
word are written in two words.</p>
<p>To account for this compounding mistakes the compound module tests for all two words that are written next to each other if a
spell checker (hunspell) recognizes them as correctly spelled word when they are written as one word. If that is the case, the
compound version is returned as a possible option for the two words.</p>
<p>The output of this module is a phrase (the two original words) along with a one word option. This is possible since we later one work
with phrase-based machine translation. If there is no compound correction in the input sentence the output is an empty list.</p>
</div>
<div class="section" id="empty">
<h4>Empty<a class="headerlink" href="#empty" title="Permalink to this headline">¶</a></h4>
<p>A module which is not included by default. It returns the empty string for each token in order to give the possibility to delete tokens.</p>
</div>
<div class="section" id="named-entity-module">
<h4>Named entity module<a class="headerlink" href="#named-entity-module" title="Permalink to this headline">¶</a></h4>
<p>This is a module that differs from the other modules. It does not give options but returns information that can be used later as a feature. By default, this module is not included.</p>
<p>Named entities (NEs) should not be normalized and it is therefore important to recognize them as such in order to avoid overcorrection. Since NEs in UGC have different characteristics than in standard texts (NEs frequently lack capitalization or are introduced with specific characters as &#64; or #), we developed a dedicated named entity recognition (NER) tool.</p>
<p>The NER tool is hybrid in the sense that it uses gazetteer lookup and classification. The gazetteers  contain a variety of named entities. Moreover, it includes a simple pattern-matching rule to find words with a capitalized first letter which does not appear at the beginning of a sentence.</p>
<blockquote>
<div>Other than abbreviations, NEs are a highly productive group, so a lookup approach does not suffice.</div></blockquote>
<p>For that reason, we added a conditional random field classifier trained on the training set of our corpus. It reaches a high performance (F-score of 0.9) and has been trained with features tailored to named entities in UGC.</p>
</div>
<div class="section" id="original">
<h4>Original<a class="headerlink" href="#original" title="Permalink to this headline">¶</a></h4>
<p>The original module returns the original word as an option for the word. This is important since some of the words are not
erroneous and could get lost when no other module returns the original option.</p>
<p>The output of this module is the original word along with exactly one option (which is the same word as the input word).</p>
</div>
<div class="section" id="g2p2g">
<h4>G2P2G<a class="headerlink" href="#g2p2g" title="Permalink to this headline">¶</a></h4>
<p>UGC often contains mistakes that are due to the &#8220;spell like you pronounce it&#8221; style. Often words are a graphematic representation of
how a word is pronounced. To be able to translate those words to the correct spelling we first have to find a phonetic representation
that is close to the graphematic representation and then use a lookup dictionary to find the correct orthographic representation of the
similar phonetic string.</p>
<p>The module performs the following steps:</p>
<ol class="arabic simple">
<li>The graphematic original word is with the help of a memory-based translation system translated into its phonetic representation</li>
<li>certain replacement strategies borrowed from spell checking approaches are used in order to generate similar phonetic strings (namely splits, deletes, transposes, replaces, inserts and of course also the phonetic representation of the original string)</li>
<li>all the phonetic alternatives are looked up in a dictionary containing phonetic strings along with its grapheme translations.</li>
<li>all grapheme translations that can be found for the phonetic alternatives are returned as possible options of the original word</li>
</ol>
<p>(implemented by Guy De Pauw)</p>
</div>
<div class="section" id="smt">
<h4>SMT<a class="headerlink" href="#smt" title="Permalink to this headline">¶</a></h4>
<p>Following preliminary experiments described in DeClercq (2013), the SMT models have been trained on token and character level using Moses. The language model used has been built from a combination of four corpora using KenLM.</p>
<p>There are four different modules that work with statistical machine translation.</p>
<ul class="simple">
<li>unigram module</li>
<li>bigram module</li>
<li>token module</li>
<li>cascaded module</li>
</ul>
<p>All those modules work with Moses models. Since the program works on the sentence level we included Moses sever mode in order
to avoid loading the model files of Moses for each sentence.</p>
</div>
<div class="section" id="spell-checker">
<h4>Spell checker<a class="headerlink" href="#spell-checker" title="Permalink to this headline">¶</a></h4>
<p>The spell checker module uses hunspell (and its python wrapper pyhunspell). Each word in the original sentence is spell checked.
In case hunspell classifies a word as wrongly-spelled, the correction suggestions given by hunspell are returned as alternatives.
The output of the spell checker module is a list of spell checker suggestions for each wrongly-spelled word.</p>
</div>
<div class="section" id="word-split">
<h4>Word split<a class="headerlink" href="#word-split" title="Permalink to this headline">¶</a></h4>
<p>Theword split module is the opposite of the compound module and splits words that have been erroneously written together. In UGC words are often concatenated in order to save space.</p>
<p>The word split module is based on the compound-splitter module of Moses  and has been trained on the Corpus Gesproken Netherlands (CGN).
It often appears that words that are actually two words are written together.</p>
</div>
</div>
<div class="section" id="decision-module">
<h3>Decision module<a class="headerlink" href="#decision-module" title="Permalink to this headline">¶</a></h3>
<p>Since we have no a-priori knowledge about the nature of a normalization problem, each sentence is sent to all modules of the suggestion  layer. In order to prevent an avalanche of suggestions, for each module of the suggestion layer, we restricted the number of suggestions per token to one.</p>
<p>It is the task of the decision module to choose the most probable combination of suggestions  to build a well-formed sentence, which poses a combinatorial problem. The decision module itself makes use of the Moses decoder, a powerful, highly efficient tool able to solve the combinatorial problem with the aid of a language model of standard languagein order to include probability information.</p>
<p>We include the normalization suggestions in form of a phrase table into the decoding process. The decoder weights have been manually tuned using development data. However, the weights might not be ideal for decoding the dynamically compiled phrase tables containing the normalization suggestions. We include weights for the different components of the decoding process like the language model. the translation model, word penalty and distortion. Distortion is made expensive since we want to avoid reordering. Moreover, the decoder uses features containing information about which module returned which suggestion. The feature weights are first set to 0.2 and later tuned on the development data</p>
</div>
</div>
<div class="section" id="example-of-usage">
<h2>Example of usage<a class="headerlink" href="#example-of-usage" title="Permalink to this headline">¶</a></h2>
<p>The system requires 3 arguments and is run like this:</p>
<p>run_norm.py &lt;lang&gt; &lt;inputfile&gt; &lt;outputfile&gt;</p>
<p>The two last arguments serve evaluation and can be ignored
Run it from the norm directory. The log files will be located in the log directory after the run.
In case you have questions, ask me.</p>
<ul class="simple">
<li>&lt;lang&gt;:       can take value &#8220;nl&#8221; and &#8220;en&#8221;</li>
<li>&lt;inputfile&gt;:  inputfile is a text file containing one messages per line. Those will be handeled as one to not lose context</li>
<li>&lt;outputfile&gt;: the file to which the normalized messages will be written.</li>
</ul>
<p>The system can also just be run in preprocessing mode:</p>
<p>run_prepro.py &lt;lang&gt; &lt;inputfile&gt; &lt;outputfile&gt;</p>
</div>
</div>
<div class="section" id="system-requirements">
<h1>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h1>
<p>The system has been tested on a 64-bit Ubuntu machine.
The following tools and packages have to be installed and the paths have to be adjusted in order to run the normalizer.</p>
<ul class="simple">
<li>Moses (compiled with server mode and SRILM setting)</li>
<li>xmlrpc-c 1.25.23 (Moses has to be compiled with the &#8211;with-xmlrpc-c in order to include it)</li>
<li>hunspell</li>
<li>pyhunspell 0.1</li>
<li>pytest</li>
<li>scikit-learn</li>
<li>nltk</li>
</ul>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="API.html" class="btn btn-neutral float-right" title="API"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to NoUGaT’s documentation!"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Sarah Schulz, Bart Desmet, Orphee DeClercq.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>